<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 380">
  <defs>
    <linearGradient id="pretrainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6A1B9A;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="finetuneGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00BCD4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00838F;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="deployGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1" />
    </linearGradient>
    <marker id="tfArrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#333" text-anchor="middle">Transfer Learning Pipeline</text>

  <!-- Stage 1: Simulation Pre-training -->
  <rect x="30" y="60" width="260" height="280" rx="15" fill="#F3E5F5" stroke="#9C27B0" stroke-width="3"/>
  <rect x="30" y="60" width="260" height="45" rx="15" fill="url(#pretrainGrad)"/>
  <text x="160" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">1. Simulation Pre-training</text>

  <rect x="50" y="120" width="220" height="50" rx="8" fill="#E1BEE7"/>
  <text x="160" y="140" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4A148C" text-anchor="middle">Synthetic Data Generation</text>
  <text x="160" y="158" font-family="Arial, sans-serif" font-size="9" fill="#4A148C" text-anchor="middle">10M+ images, perfect labels</text>

  <rect x="50" y="180" width="220" height="50" rx="8" fill="#CE93D8"/>
  <text x="160" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Domain Randomization</text>
  <text x="160" y="218" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Visual + Physics variations</text>

  <rect x="50" y="240" width="220" height="50" rx="8" fill="#BA68C8"/>
  <text x="160" y="260" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Base Model Training</text>
  <text x="160" y="278" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">ImageNet + Sim data</text>

  <rect x="50" y="300" width="220" height="30" rx="6" fill="#9C27B0"/>
  <text x="160" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Output: Pre-trained weights</text>

  <!-- Arrow -->
  <line x1="290" y1="200" x2="330" y2="200" stroke="#333" stroke-width="3" marker-end="url(#tfArrow)"/>

  <!-- Stage 2: Fine-tuning -->
  <rect x="330" y="60" width="260" height="280" rx="15" fill="#E0F7FA" stroke="#00BCD4" stroke-width="3"/>
  <rect x="330" y="60" width="260" height="45" rx="15" fill="url(#finetuneGrad)"/>
  <text x="460" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">2. Real-World Fine-tuning</text>

  <rect x="350" y="120" width="220" height="50" rx="8" fill="#B2EBF2"/>
  <text x="460" y="140" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#006064" text-anchor="middle">Real Data Collection</text>
  <text x="460" y="158" font-family="Arial, sans-serif" font-size="9" fill="#006064" text-anchor="middle">1K-10K labeled images</text>

  <rect x="350" y="180" width="220" height="50" rx="8" fill="#80DEEA"/>
  <text x="460" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#006064" text-anchor="middle">Progressive Unfreezing</text>
  <text x="460" y="218" font-family="Arial, sans-serif" font-size="9" fill="#006064" text-anchor="middle">Backbone â†’ Head layers</text>

  <rect x="350" y="240" width="220" height="50" rx="8" fill="#4DD0E1"/>
  <text x="460" y="260" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Adaptation Training</text>
  <text x="460" y="278" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Low LR, few epochs</text>

  <rect x="350" y="300" width="220" height="30" rx="6" fill="#00BCD4"/>
  <text x="460" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Output: Adapted model</text>

  <!-- Arrow -->
  <line x1="590" y1="200" x2="630" y2="200" stroke="#333" stroke-width="3" marker-end="url(#tfArrow)"/>

  <!-- Stage 3: Deployment -->
  <rect x="630" y="60" width="240" height="280" rx="15" fill="#E8F5E9" stroke="#4CAF50" stroke-width="3"/>
  <rect x="630" y="60" width="240" height="45" rx="15" fill="url(#deployGrad)"/>
  <text x="750" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">3. Deployment</text>

  <rect x="650" y="120" width="200" height="50" rx="8" fill="#C8E6C9"/>
  <text x="750" y="140" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1B5E20" text-anchor="middle">Model Optimization</text>
  <text x="750" y="158" font-family="Arial, sans-serif" font-size="9" fill="#1B5E20" text-anchor="middle">TensorRT, quantization</text>

  <rect x="650" y="180" width="200" height="50" rx="8" fill="#A5D6A7"/>
  <text x="750" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1B5E20" text-anchor="middle">Edge Deployment</text>
  <text x="750" y="218" font-family="Arial, sans-serif" font-size="9" fill="#1B5E20" text-anchor="middle">Jetson / Robot onboard</text>

  <rect x="650" y="240" width="200" height="50" rx="8" fill="#81C784"/>
  <text x="750" y="260" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Online Adaptation</text>
  <text x="750" y="278" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Continuous learning</text>

  <rect x="650" y="300" width="200" height="30" rx="6" fill="#4CAF50"/>
  <text x="750" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Real-time inference</text>

  <!-- Bottom metrics -->
  <rect x="30" y="350" width="260" height="25" rx="5" fill="#F3E5F5"/>
  <text x="160" y="368" font-family="Arial, sans-serif" font-size="10" fill="#6A1B9A" text-anchor="middle">Data: 10M+ synthetic samples</text>

  <rect x="330" y="350" width="260" height="25" rx="5" fill="#E0F7FA"/>
  <text x="460" y="368" font-family="Arial, sans-serif" font-size="10" fill="#00838F" text-anchor="middle">Data: 1-10K real samples (100x less)</text>

  <rect x="630" y="350" width="240" height="25" rx="5" fill="#E8F5E9"/>
  <text x="750" y="368" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32" text-anchor="middle">Latency: &lt;50ms on edge</text>
</svg>